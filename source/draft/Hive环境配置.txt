JDK
sudo su
sudo echo "export JAVA_HOME=/usr/qunar/jdk1.7.0_40" > /etc/profile.d/java.sh
sudo echo "export PATH=${JAVA_HOME}/bin:$PATH" >> /etc/profile.d/java.sh
. /etc/profile
echo ${JAVA_HOME}
/usr/qunar/jdk1.7.0_40

Hadoop
sudo tar -xzf hadoop-2.7.0.tar.gz -C /usr/qunar
cd /usr/qunar
sudo su
sudo echo "export HADOOP_HOME=$PWD/hadoop-2.7.0" > /etc/profile.d/hadoop.sh
sudo echo "export PATH=$PATH:$HADOOP_HOME/bin" >> /etc/profile.d/hadoop.sh
. /etc/profile

exit

hadoop dfs -ls /
DEPRECATED: Use of this script to execute hdfs command is deprecated.
Instead use the hdfs command for it.

Found 26 items
....

Hive
sudo tar -xzf apache-hive-2.0.0-bin.tar.gz -C /usr/qunar
sudo mkdir -p /usr/hive/warehouse
sudo chmod a+wx /usr/hive/warehouse

cd /usr/qunar
sudo su
sudo echo "export HIVE_HOME=$PWD/apache-hive-2.0.0-bin" > /etc/profile.d/hive.sh
root@junqiangshen:/usr/qunar# sudo echo "export PATH=$PATH:$HIVE_HOME/bin" >> /etc/profile.d/hive.sh 
root@junqiangshen:/usr/qunar# . /etc/profile
root@junqiangshen:/usr/qunar# echo $HIVE_HOME
/usr/qunar/apache-hive-2.0.0-bin

进入$hive_home/conf 修改文件

sudo cp  hive-default.xml.template  hive-site.xml
sudo cp  hive-env.sh.template hive-env.sh

修改$HIVE_HOME/bin的hive-env.sh，修改对应位置
# Set HADOOP_HOME to point to a specific hadoop install directory
HADOOP_HOME=/usr/qunar/hadoop-2.7.0

# Hive Configuration Directory can be controlled by:
export HIVE_CONF_DIR=/usr/qunar/apache-hive-2.0.0-bin/conf

# Folder containing extra ibraries required for hive compilation/execution can be controlled by:
export HIVE_AUX_JARS_PATH=/usr/qunar/apache-hive-2.0.0-bin/lib

source /hive-env.sh(生效文件)






